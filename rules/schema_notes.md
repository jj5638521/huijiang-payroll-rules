三、AttendancePipe（读取/表头兼容）
- 输入源限定：仅接受“施工表”。
- 读取要求：按 schema 做字段完整性、类型与格式校验。
- 表头兼容：允许做受控映射，但必须可审计、可回溯。
- 阻断条件：缺字段、格式异常、项目不匹配、状态无效时立即阻断。
- 阻断输出：返回缺失项清单与修复建议，不进入后续计算。

### R54.1 字段识别兼容：施工说明/问题描述（单选）
- 字段名称（清洗后匹配，取首个非空列）：
  - `施工说明` | `问题描述` | `其他说明`
  - `报销说明` | `摘要` | `备注`（仅 AttendancePipe 范围内的施工表备注列）
- 字段用途：
  - 仅在 AttendancePipe 内用于驱动餐补规则（MealForm Single Select）。
  - 明确属于“施工表字段”，禁止用于 PaymentPipe 关键词命中或跨管道推断。
  - “已结清”等关键词仍仅在 PaymentPipe 文本列判定。
- 值域说明（单选文本，支持“包含匹配”）：
  - 命中 `施工-无工作餐`：触发施工人员餐补 25→40（同日期+项目+车组范围，仅施工=是）。
  - 命中 `未施工-全组无餐补`：触发待命人员餐补 40→0（同日期+项目+车组范围，仅岗位命中且施工≠是）。
- 分组键：
  - 优先 `日期+项目+车组`（车组来自车牌/车辆列）；
  - 若无车组列，退化为 `日期+项目`。

四、Project识别
- 项目识别必须与施工表、支付记录表双向一致。
- 出现项目不匹配时，直接阻断并输出差异清单。
- 不允许静默归并或猜测修正；如发生自动更正，必须记录审计日志（前后值、触发规则、证据字段）。
- 同日冲突按“施工优先”规则处理，且需保留留痕。

五、PaymentPipe（识别与归集）
- 输入源限定：仅接受“支付记录表”。
- 识别规则：按 schema 校验记录合法性，仅归集有效状态数据。
- 归集要求：日期单位去重，金额逐步公式输出，确保可复算。
- 输出结构：必须包含已付/预支明细区块、差异清单、校验报告(≥10项)与审计留痕。
- 审计字段：run_id、规则版本、输入hash、输出hash 必须完整输出。
